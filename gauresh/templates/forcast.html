<html>
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
 
 <link rel="stylesheet" href="./style/forecast.css">
 <link rel="stylesheet" href="./style/index.css">
 <link rel="stylesheet" href="./style/news.css">
  </head>

<body style="background-color:#ffffff;">

 <!--Navbar-->
 <nav>
	<div class="navbar">
	  <a href="#" class="logo">Your Logo</a>
	  <ul class="nav-links">
		<li><a href="#">Home</a></li>
		<li><a href="#">About</a></li>
		<li><a href="#">Services</a></li>
		<li><a href="#">Contact</a></li>
	  </ul>
	  <div class="hamburger">
		<div class="line"></div>
		<div class="line"></div>
		<div class="line"></div>
	  </div>
	</div>
  </nav>
  
<!--end of navbar-->


<div id="details" style="text-align: center;"><h3 style="text-decoration: underline;">Map</h3>
</div>
<div id="details1" style="text-align: center;"><h3 style="text-decoration: underline;">Map</h3></div>
<div id="details2" style="text-align: center;"><h3 style="text-decoration: underline;">Hourly Weather Forecast</h3></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>






<script>
// let reqcount = 0

navigator.geolocation.getCurrentPosition(showPosition)
let lat, lon;

function showPosition(position) {
  const { latitude,longitude } = position.coords

  details.innerHTML += '<iframe width="300" height="300" src="https://maps.google.com/maps?q='+latitude+','+longitude+'&amp;z=15&amp;output=embed"></iframe>'

  lat = latitude;
  lon = longitude;

  let data1;
  
  let link = 'https://fcc-weather-api.glitch.me/api/current?lat='+lat+'&lon='+lon
    fetch(link)
    .then(response => {
        return response.json()
    })
    .then(data => {
        console.log(data)
        details1.innerHTML += "<p>Approx temperature : " + data.main.temp + " deg" + "</p>"
        details1.innerHTML += "<p>Humidity : " + data.main.humidity + "</p>"
        details1.innerHTML += "<p>Maximum Temperature : " + data.main.temp_max + " deg" + "</p>"
        details1.innerHTML += "<p>Minimum Temperature : " + data.main.temp_min + " deg" + "</p>"
        details1.innerHTML += "<p>Wind speed : " + data.wind.speed + " m/s" + '</p>'
        details1.innerHTML += "<p>Wind direction : " + data.wind.deg + 'degrees' + '</p>'
    })

    const url = 'https://weatherbit-v1-mashape.p.rapidapi.com/forecast/3hourly?lat='+lat+'&lon='+lon;
    const options = {
        method: 'GET',
        url: 'https://weatherbit-v1-mashape.p.rapidapi.com/forecast/3hourly',
        params: { units: 'metric' },
        headers: {
            'X-RapidAPI-Key': '61d276996cmsh581e695429476d8p1be501jsn60845aa7f8f4',
            'X-RapidAPI-Host': 'weatherbit-v1-mashape.p.rapidapi.com'
        }
    };

    fetch(url, options)
        .then(res => {
          return res.json()
        })
        .then(data1 => {
          console.log(data1)
          for(let i = 0 ; i < 5 ; i ++) {
            let src1 = 
            `https://www.weatherbit.io/static/img/icons/${data1.data[i].weather.icon}.png`;

            details2.innerHTML += "<div style='width: 18rem;'>"
            details2.innerHTML += "<img style='height: 200px; width: 200px;' src='" + src1 + "' class='card-img-top' alt=''>"
            details2.innerHTML += "<div class='card-body'>"
            details2.innerHTML += "<h5 class='card-title'>" + data1.data[i].weather.description + "</h5>"
            details2.innerHTML += "<p class='card-text'>Temperature : " + data1.data[i].app_temp + " deg" +"</p>"
            details2.innerHTML += "<p class='card-text'>" + data1.data[i].datetime + "</p>"
            details2.innerHTML += "</div>" 
            details2.innerHTML += "</div>"
          }
        })
        .catch(err => console.error('error:' + err));

}

</script>

 <!-- ======= Contact Section ======= -->
 <section>
  <div class="container-fluid bg-light p-5">
    <div class="row">
      <div class="col-lg-6 text-center text-lg-start">
        <h2 class="fw-bold">Contact</h2>
        <p class="lead mb-5">Have a question or feedback for us? Get in touch and we'll get back to you as soon as possible.</p>
        <div class="row">
          <div class="col-md-4">
            <div class="d-flex flex-column align-items-center">
              <i class="bi bi-geo-alt fs-3 mb-3"></i>
              <h4 class="fs-5 mb-3">Location</h4>
              <p class="mb-0">St. Francis Institute of Technology</p>
              <p class="mb-0">Mount Poisar, Mumbai-64</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="d-flex flex-column align-items-center">
              <i class="bi bi-envelope fs-3 mb-3"></i>
              <h4 class="fs-5 mb-3">Email</h4>
              <p class="mb-0">kisanseva@gmail.com</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="d-flex flex-column align-items-center">
              <i class="bi bi-phone fs-3 mb-3"></i>
              <h4 class="fs-5 mb-3">Call</h4>
              <p class="mb-0">+91-9136752443</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6 mt-5 mt-lg-0">
        <div class="card shadow-lg">
          <div class="card-body p-4">
            <h4 class="fw-bold mb-4">Send us a message</h4>
            <form>
              <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name">
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email">
              </div>
              <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea class="form-control" id="message" rows="5"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Send</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

</body>
</html>